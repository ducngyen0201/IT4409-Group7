<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Đăng nhập</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>Đăng nhập hệ thống</h1>

<form id="loginForm" class="login-form">

  <div class="form-group">
    <label>Tên đăng nhập</label>
    <input type="text" id="username" placeholder="Nhập username">
  </div>

  <div class="form-group">
    <label>Mật khẩu</label>
    <input type="password" id="password" placeholder="Nhập mật khẩu">
  </div>

  <button type="submit">Đăng nhập</button>
</form>

<script>
/* ======= GIẢ LẬP DATABASE NGƯỜI DÙNG ======= */
const users = [
  { username: "admin", password: "admin123", role: "admin" },
  { username: "teacher1", password: "123", role: "teacher" },
  { username: "student1", password: "123", role: "student" }
];

document.getElementById("loginForm").addEventListener("submit", function(e) {
  e.preventDefault();

  const username = document.getElementById("username").value.trim();
  const password = document.getElementById("password").value.trim();

  if (!username || !password) {
    alert("Vui lòng nhập đầy đủ thông tin!");
    return;
  }

  // Tìm user hợp lệ
  const user = users.find(
    u => u.username === username && u.password === password
  );

  if (!user) {
    alert("Sai tài khoản hoặc mật khẩu!");
    return;
  }

  // Lưu session
  localStorage.setItem("online_user", JSON.stringify({
    username: user.username,
    role: user.role,
    isLoggedIn: true
  }));

  // Điều hướng theo role
  if (user.role === "admin") {
    window.location.href = "admin.html";
  } else if (user.role === "teacher") {
    window.location.href = "teacher.html";
  } else {
    window.location.href = "student.html";
  }
});
</script>

</body>
</html>
